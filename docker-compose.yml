services:
  video-to-podcast-service:
    build: .
    image: video-to-podcast-service
    ports:
      - "8080:8080"
    environment:
      PORT: "8080"
      # BASE_URL: "https://your-domain.com"  # Set for production
      # BASE_PATH: "/data/resources"         # Custom storage path
      # YTDLP_COOKIES_FILE: "/app/.cookies/youtube_cookies.txt"
    #volumes:
      # Uncomment to persist data
      # - "./data:/app/resources"
      # Uncomment to use cookies file
      # - "./youtube_cookies.txt:/app/.cookies/youtube_cookies.txt"
    healthcheck:
      test: ["CMD", "curl", "--fail", "http://localhost:8080/v1/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 10s
    restart: unless-stopped