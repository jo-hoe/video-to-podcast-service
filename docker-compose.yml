services:
  video-to-podcast-service:
    build: .
    image: video-to-podcast-service
    ports:
      - "8080:8080"
    # Uncomment and modify the volumes section below as needed
    # volumes:
    #   - "./resources/:/home/appuser/app/resources"  # Mount resources directory to host
    #   - "./youtube_cookies.txt:/home/appuser/.cookies/youtube_cookies.txt"  # Mount cookies file
    healthcheck:
      test: ["CMD", "curl", "--fail", "http://localhost:8080/v1/health"]
      interval: 12s
      retries: 8
      start_period: 2s
      timeout: 12s
    environment:
      PORT: "8080"
      # Uncomment the line below to use cookies file
      # YTDLP_COOKIES_FILE: "/home/appuser/.cookies/youtube_cookies.txt"